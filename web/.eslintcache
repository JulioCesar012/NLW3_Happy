[{"/home/oem/Documentos/NLW3/web/src/App.tsx":"1","/home/oem/Documentos/NLW3/web/src/routes.tsx":"2","/home/oem/Documentos/NLW3/web/src/pages/Orphanage.tsx":"3","/home/oem/Documentos/NLW3/web/src/pages/OrphanagesMap.tsx":"4","/home/oem/Documentos/NLW3/web/src/pages/Landing.tsx":"5","/home/oem/Documentos/NLW3/web/src/index.tsx":"6","/home/oem/Documentos/NLW3/web/src/utils/mapIcon.ts":"7","/home/oem/Documentos/NLW3/web/src/services/apiMapBox.ts":"8","/home/oem/Documentos/NLW3/web/src/utils/positionInitial.tsx":"9","/home/oem/Documentos/NLW3/web/src/components/Sidebar.tsx":"10","/home/oem/Documentos/NLW3/web/src/pages/CreateOrphanage.tsx":"11","/home/oem/Documentos/NLW3/web/src/services/api.ts":"12"},{"size":197,"mtime":1609816518000,"results":"13","hashOfConfig":"14"},{"size":679,"mtime":1609867464000,"results":"15","hashOfConfig":"14"},{"size":4202,"mtime":1611261580000,"results":"16","hashOfConfig":"14"},{"size":2258,"mtime":1636683310328,"results":"17","hashOfConfig":"14"},{"size":786,"mtime":1636682440861,"results":"18","hashOfConfig":"14"},{"size":197,"mtime":1609212702000,"results":"19","hashOfConfig":"14"},{"size":240,"mtime":1609907482000,"results":"20","hashOfConfig":"14"},{"size":303,"mtime":1609879470000,"results":"21","hashOfConfig":"14"},{"size":198,"mtime":1609905208000,"results":"22","hashOfConfig":"14"},{"size":549,"mtime":1609815660000,"results":"23","hashOfConfig":"14"},{"size":6959,"mtime":1611260308000,"results":"24","hashOfConfig":"14"},{"size":115,"mtime":1609817662000,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"ao4b5y",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"40"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"/home/oem/Documentos/NLW3/web/src/App.tsx",[],["55","56"],"/home/oem/Documentos/NLW3/web/src/routes.tsx",[],"/home/oem/Documentos/NLW3/web/src/pages/Orphanage.tsx",["57","58","59","60"],"import React, { useEffect, useState } from \"react\";\nimport { FaWhatsapp } from \"react-icons/fa\";\nimport { FiClock, FiInfo } from \"react-icons/fi\";\nimport { MapContainer, Marker, TileLayer } from \"react-leaflet\";\nimport { useParams } from 'react-router-dom';\n\nimport mapMarkerImg from '../images/map-marker.svg';\nimport mapIcon from '../utils/mapIcon';\nimport api from '../services/api';\n\nimport Sidebar from \"../components/Sidebar\";\nimport '../styles/pages/orphanage.css';\n\ninterface Orphanage {\n  address: string;\n  latitude: number;\n  longitude: number;\n  name: string;\n  about: string;\n  whatsapp: string;\n  instructions: string;\n  opening_hours: string;\n  open_on_weekends: string;\n  images: {\n    id: number;\n    url: string;\n  }[];\n}\n\ninterface OrphanageParams {\n  id: string;\n}\n\nexport default function Orphanage() {\n  const params = useParams<OrphanageParams>();\n  const [orphanage, setOrphanage] = useState<Orphanage>();\n  const [activeImageIndex, setActiveImageIndex] = useState(0);\n\n  useEffect(() => {\n    api.get(`orphanages/${params.id}`).then(response => {\n      setOrphanage(response.data);\n    });\n  }, [params.id]);\n\n  if(!orphanage) {\n    return <p>Carregando</p>;\n  }\n\n  return (\n    <div id=\"page-orphanage\">\n      <Sidebar />\n\n      <main>\n        <div className=\"orphanage-details\">\n          <img src={orphanage.images[activeImageIndex].url} alt={orphanage.name} />\n\n          <div className=\"images\">\n            {orphanage.images.map((image, index) => {\n              return (\n                <button\n                key={image.id}\n                className={activeImageIndex === index ? 'active' : ''}\n                type=\"button\"\n                onClick={() => {\n                  setActiveImageIndex(index);\n                }}\n                >\n                  <img src={image.url} alt={orphanage.name} />\n                </button>\n              );\n            })}\n          </div>\n\n          <div className=\"orphanage-details-content\">\n            <h1>{orphanage.name}</h1>\n            <p>{orphanage.about}</p>\n\n            <div className=\"map-container\">\n              <MapContainer\n                center={[orphanage.latitude, orphanage.longitude]}\n                zoom={16}\n                style={{ width: '100%', height: 280 }}\n                dragging={false}\n                touchZoom={false}\n                zoomControl={false}\n                scrollWheelZoom={false}\n                doubleClickZoom={false}\n              >\n                <TileLayer\n                  url={`https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n                />\n                <Marker interactive={false} icon={mapIcon} position={[orphanage.latitude, orphanage.longitude]} />\n              </MapContainer>\n\n              <footer>\n              <a target=\"_black\" rel=\"nooper noreferrer\" href={`https://www.google.com/maps/dir/?api=1&destination=${orphanage.latitude},${orphanage.longitude}`}>Ver rotas no Google Maps</a>\n              </footer>\n            </div>\n\n            <hr />\n\n            <h2>Instruções para visita</h2>\n            <p>{orphanage.instructions}</p>\n\n            <div className=\"open-details\">\n              <div className=\"hour\">\n                <FiClock size={32} color=\"#15B6D6\" />\n                Segunda à Sexta <br />\n                {orphanage.opening_hours}\n              </div>\n              {orphanage.open_on_weekends ? (\n                <div className=\"open-on-weekends\">\n                  <FiInfo size={32} color=\"#39CC83\" />\n                  Atendemos <br />\n                  fim de semana\n                </div>\n              ) : (\n                <div className=\"open-on-weekends dont-open\">\n                  <FiInfo size={32} color=\"#FF669d\" />\n                  Não Atendemos <br />\n                  fim de semana\n                </div>\n              )}\n            </div>\n\n          <a href={`http://wa.me/${orphanage.whatsapp}`} target=\"_blank\" type=\"button\" className=\"contact-button\">\n             <FaWhatsapp size={20} color=\"#FFF\" />\n             Entrar em contato\n            </a>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n","/home/oem/Documentos/NLW3/web/src/pages/OrphanagesMap.tsx",[],"/home/oem/Documentos/NLW3/web/src/pages/Landing.tsx",[],"/home/oem/Documentos/NLW3/web/src/index.tsx",[],["61","62"],"/home/oem/Documentos/NLW3/web/src/utils/mapIcon.ts",[],"/home/oem/Documentos/NLW3/web/src/services/apiMapBox.ts",[],"/home/oem/Documentos/NLW3/web/src/utils/positionInitial.tsx",["63","64"],"import React from \"react\";\n\nconst initialPosition = { lat: -22.2154042, lng: -54.8331331 };\n\n  type Position = {\n    longitude: number;\n    latitude: number;\n    };\n\nexport default initialPosition;\n","/home/oem/Documentos/NLW3/web/src/components/Sidebar.tsx",[],"/home/oem/Documentos/NLW3/web/src/pages/CreateOrphanage.tsx",["65","66","67","68","69","70","71","72","73","74"],"import React, { useState, FormEvent, ChangeEvent } from \"react\";\nimport { MapContainer, Marker, TileLayer } from \"react-leaflet\";\nimport AsyncSelect from \"react-select/async\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Orphanage from '../utils/orphanageCreate';\nimport initialPosition from '../utils/positionInitial';\nimport { fetchLocalMapBox } from '../services/apiMapBox';\n\nimport Sidebar from \"../components/Sidebar\";\n\nimport { FiPlus } from \"react-icons/fi\";\nimport mapMarkerImg from \"../images/map-marker.svg\";\nimport mapIcon from \"../utils/mapIcon\";\n\nimport \"../styles/pages/create-orphanage.css\";\n\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport api from '../services/api';\n\nexport default function CreateOrphanage() {\n  const history = useHistory();\n  const [orphanages, setOrphanages] = useState<Orphanage[]>([]);\n\n  const [position, setPosition] = useState({ latitude: null, longitude: null });\n\n  const [name, setName] = useState(\"\");\n  const [address, setAddress] = useState<{\n\n} | null>(null);\n\nconst [about, setAbout] = useState(\"\");\nconst [whatsapp, setWhatsapp] = useState(\"\");\nconst [instructions, setInstructions] = useState(\"\");\nconst [opening_hours, setOpeningHours] = useState(\"\");\nconst [open_on_weekends, setOpenOnWeekends] = useState(true);\nconst [images, setImages] = useState<File[]>([]);\nconst [previewImages, setPreviewImages] = useState<string[]>([]);\n\nconst [location, setLocation] = useState(initialPosition);\n\nconst loadOptions = async (inputValue: any, callback: any) => {\n  const response = await fetchLocalMapBox(inputValue);\n  let places: any = [];\n  if (inputValue.length < 5) return;\n  response.features.map((item: any) => {\n    places.push({\n      label: item.place_name,\n      value: item.place_name,\n      coords: item.center,\n      place: item.place_name,\n    });\n  });\n  callback(places);\n};\n\nconst handleChangeSelect = (event: any) => {\n  setPosition({\n    longitude: event.coords[0],\n    latitude: event.coords[1],\n  });\n\n  setAddress({ label: event.place, value: event.place });\n\n  setLocation({\n    lng: event.coords[0],\n    lat: event.coords[1],\n  });\n};\n\nfunction handleSelectImages(event: ChangeEvent<HTMLInputElement>) {\n  if(!event.target.files) {\n  return;\n  }\n\n  const selectedImages = Array.from(event.target.files);\n\n  setImages(selectedImages);\n\n  const selectedImagesPreview = selectedImages.map(image => {\n    return URL.createObjectURL(image);\n  });\n\n  setPreviewImages(selectedImagesPreview);\n}\n\nasync function handleSubmit(event: FormEvent) {\n  event.preventDefault();\n\n  const {latitude, longitude} = position;\n\n  const data = new FormData();\n\n  data.append('name', name);\n  data.append('about', about);\n  data.append('whatsapp', whatsapp);\n  data.append('address', String(address));\n  data.append('latitude', String(latitude));\n  data.append('longitude', String(longitude));\n  data.append('instructions', instructions);\n  data.append('opening_hours', opening_hours);\n  data.append('open_on_weekends', String(open_on_weekends));\n\n    images.forEach(image => {\n      data.append('images', image);\n    })\n\n  await api.post('orphanages', data);\n\n  alert('Cadastro realizado com sucesso');\n\n  history.push('/app');\n}\n\n  return (\n    <div id=\"page-create-orphanage\">\n      <Sidebar />\n\n      <main>\n        <form className=\"create-orphanage-form\" onSubmit={handleSubmit}>\n          <fieldset>\n            <legend>Dados</legend>\n\n              <div className=\"input-block\">\n              <label htmlFor=\"address\">Endereço</label>\n              <AsyncSelect\n                className=\"address-select\"\n                placeholder=\"Digite seu endereço...\"\n                classNamePrefix=\"filter\"\n                cacheOptions\n                loadOptions={loadOptions}\n                onChange={handleChangeSelect}\n                value={address}\n              />\n            </div>\n\n\n            <div className=\"input-block\">\n              <label htmlFor=\"name\">Nome</label>\n              <input\n              id=\"name\"\n              onChange={event => setName(event.target.value)}\n              value={name} />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"about\">\n                Sobre <span>Máximo de 300 caracteres</span>\n              </label>\n              <textarea\n              id=\"name\" maxLength={300}\n              onChange={event => setAbout(event.target.value)}\n              value={about} />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"about\">\n                Whatsapp <span>Adicione o DD e o número</span>\n              </label>\n              <input\n              id=\"name\"\n              placeholder=\"Exemplo: (11)99750.4302\"\n              onChange={event => setWhatsapp(event.target.value)}\n              value={whatsapp} />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"images\">Fotos (Para adicionar + imagens selecione todas de uma vez)</label>\n\n              <div className=\"images-container\">\n              {previewImages.map(image => {\n                return (\n                  <img key={image} src={image} alt={name} />\n                )\n              })}\n\n              <label htmlFor=\"image[]\" className=\"new-image\">\n                <FiPlus size={24} color=\"#15b6d6\" />\n              </label>\n\n              </div>\n              <input multiple onChange={handleSelectImages} type =\"file\" id=\"image[]\" />\n\n            </div>\n          </fieldset>\n\n          <fieldset>\n            <legend>Visitação</legend>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"instructions\">Instruções</label>\n              <textarea\n              id=\"instructions\"\n              onChange={event => setInstructions(event.target.value)}\n              value={instructions} />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"opening_hours\">Horário de funcionamento</label>\n              <input\n              id=\"opening_hours\"\n              onChange={event => setOpeningHours(event.target.value)}\n              value={opening_hours} />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"open_on_weekends\">Atende fim de semana</label>\n\n              <div className=\"button-select\">\n                <button\n                type=\"button\"\n                className={open_on_weekends ? 'active' : ''}\n                onClick={() => setOpenOnWeekends(true)}\n                >\n                  Sim\n                </button>\n                <button\n                type=\"button\"\n                className={!open_on_weekends ? 'active' : ''}\n                onClick={() => setOpenOnWeekends(false)}\n                >Não</button>\n              </div>\n            </div>\n          </fieldset>\n\n          <button className=\"confirm-button\" type=\"submit\">\n            Confirmar\n          </button>\n        </form>\n      </main>\n    </div>\n  );\n}\n","/home/oem/Documentos/NLW3/web/src/services/api.ts",[],{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":7,"column":8,"nodeType":"81","messageId":"82","endLine":7,"endColumn":20},{"ruleId":"83","severity":1,"message":"84","line":34,"column":25,"nodeType":"81","messageId":"85","endLine":34,"endColumn":34},{"ruleId":"79","severity":1,"message":"86","line":36,"column":46,"nodeType":"81","messageId":"82","endLine":36,"endColumn":55},{"ruleId":"87","severity":1,"message":"88","line":126,"column":58,"nodeType":"89","endLine":126,"endColumn":73},{"ruleId":"75","replacedBy":"90"},{"ruleId":"77","replacedBy":"91"},{"ruleId":"79","severity":1,"message":"92","line":1,"column":8,"nodeType":"81","messageId":"82","endLine":1,"endColumn":13},{"ruleId":"79","severity":1,"message":"93","line":5,"column":8,"nodeType":"81","messageId":"82","endLine":5,"endColumn":16},{"ruleId":"79","severity":1,"message":"94","line":2,"column":10,"nodeType":"81","messageId":"82","endLine":2,"endColumn":22},{"ruleId":"79","severity":1,"message":"95","line":2,"column":24,"nodeType":"81","messageId":"82","endLine":2,"endColumn":30},{"ruleId":"79","severity":1,"message":"96","line":2,"column":32,"nodeType":"81","messageId":"82","endLine":2,"endColumn":41},{"ruleId":"79","severity":1,"message":"80","line":13,"column":8,"nodeType":"81","messageId":"82","endLine":13,"endColumn":20},{"ruleId":"79","severity":1,"message":"97","line":14,"column":8,"nodeType":"81","messageId":"82","endLine":14,"endColumn":15},{"ruleId":"79","severity":1,"message":"98","line":18,"column":16,"nodeType":"81","messageId":"82","endLine":18,"endColumn":22},{"ruleId":"79","severity":1,"message":"99","line":24,"column":10,"nodeType":"81","messageId":"82","endLine":24,"endColumn":20},{"ruleId":"79","severity":1,"message":"100","line":24,"column":22,"nodeType":"81","messageId":"82","endLine":24,"endColumn":35},{"ruleId":"79","severity":1,"message":"101","line":41,"column":8,"nodeType":"81","messageId":"82","endLine":41,"endColumn":16},{"ruleId":"102","severity":1,"message":"103","line":47,"column":37,"nodeType":"104","messageId":"105","endLine":47,"endColumn":39},"no-native-reassign",["106"],"no-negated-in-lhs",["107"],"@typescript-eslint/no-unused-vars","'mapMarkerImg' is defined but never used.","Identifier","unusedVar","@typescript-eslint/no-redeclare","'Orphanage' is already defined.","redeclared","'Orphanage' is defined but never used.","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute",["106"],["107"],"'React' is defined but never used.","'Position' is defined but never used.","'MapContainer' is defined but never used.","'Marker' is defined but never used.","'TileLayer' is defined but never used.","'mapIcon' is defined but never used.","'uuidv4' is defined but never used.","'orphanages' is assigned a value but never used.","'setOrphanages' is assigned a value but never used.","'location' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-global-assign","no-unsafe-negation"]